      SUBROUTINE F_MAIN

      IMPLICIT NONE
      INCLUDE 'IPhreeqc.f.inc'
      INTEGER id
      
      id = CreateIPhreeqc()
      IF (id.LT.0) THEN
        STOP
      END IF
      
      IF (LoadDatabase(id, "phreeqc.dat").NE.0) THEN
        CALL OutputErrorString(id)
        STOP
      END IF
      
      IF (RunFile(id, "ex1").NE.0) THEN
        CALL OutputErrorString(id)
        STOP
      END IF
      
      IF (DestroyIPhreeqc(id).NE.0) THEN
        CALL OutputErrorString(id)
        STOP
      END IF
      
      END SUBROUTINE F_MAIN
